\documentclass{oci}
\usepackage[utf8]{inputenc}
\usepackage{lipsum}

% \usepackage{icpc_problem} % or wherever this package is stored
\usepackage[english]{babel}
\usepackage[usenames,dvipsnames,svgnames,table]{xcolor}
\usepackage{amssymb}
\usepackage{float}
\usepackage{tikz}
\usetikzlibrary{external}
\tikzexternalize[prefix=tikz/]
\usepackage{wrapfig}

\def\NN{\mathbb{N}}
\def\ZZ{\mathbb{Z}}
\def\prob{\mathbb{P}}
\def\esp{\mathbb{E}}
\def\ag{\mathcal{A}}
\def\CC{\mathcal{C}}

\title{El camino del drag\'on}

\begin{document}
\maketitle
Nuestro héroe Olon-sonkú debe recorrer el camino del dragón para llegar al planeta de Jorgesama y aumentar su poder de pelea. Desgraciadamente, el camino del dragón no es en línea recta, sino que es un camino infinito conocido como la curva del dragón de Highway.


\begin{wrapfigure}{r}{0.5\textwidth}
	\begin{center}
			\include{dragoncito}
		Primeros $2^{12}-1$ pasos de la curva del dragón
	\end{center}
\end{wrapfigure}

Si bien nuestro amigo Olon-sonkú tiene una gran fuerza física, su inteligencia es bastante escasa.
Incluso los cálculos más simples de aritmética son un gran desafío para él.
En este caso se encuentra en un gran problema pues para lograr su cometido debe calcular las coordenadas del planeta del gran Jorgesama que se encuentra en algún lugar del camino del dragón.
Por fortuna su amiga Bulnelman planea ayudarlo a realizar esta tarea.

Bulnelman estudió detenidamente el camino del dragón y descubrió que este puede ser descrito de manera simple.
El verdadero camino del dragón es un camino infinito, pero a continuación hablaremos de varios caminos finitos que llamaremos también caminos del dragón.
Para describir un camino del dragón se denotará con una $A$ la acción de avanzar un paso, con una $R$ la acción de rotar $90^{\circ}$ grados a la derecha y con una $L$ la acción de rotar $90^{\circ}$ a la izquierda.
Un camino del dragón corresponde a una secuencia de estos símbolos que representan las acciones que hay que realizar para recorrerlo.
No obstante, no cualquier secuencia formada con estas letras corresponde a un camino del dragón válido.
Las secuencias válidas son generadas por un sistema de reescritura.
Llamaremos secuencias del dragón a las secuencias generadas por este sistema.

Un sistema de reescritura consiste en una serie de reglas para transformar una secuencia.
Cada regla contiene un símbolo a la izquierda y una secuencia a la derecha.
Aplicar una regla significa que cada aparición del símbolo de la izquierda debe ser reemplazada por la secuencia de la derecha.
Las reglas para generar secuencias del dragón usan dos símbolos auxiliares $a$ y $b$.
Estos símbolos no representan acciones y solo son usados para generar las secuencias.
Las reglas correspondientes al camino del dragón son las siguientes.
$$a \rightarrow aRbAR \ \ \ \ \ \ \ \ \ \   b \rightarrow LAaLb$$
Para generar secuencias del dragón hay que partir con la secuencia $Aa$ y aplicar iterativamente estas reglas de reescritura.
A continuación se muestra la aplicación de las reglas en tres iteraciones consecutivas.
En cada paso ambas reglas son aplicadas simultáneamente.
$$Aa \rightarrow AaRbAR \rightarrow AaRbARRLAaLbAR \rightarrow AaRbARRLAaLbARRLAaRbARLLAaLbAR$$
En el primer paso el símbolo $a$ es reemplazado en $Aa$ por la secuencia $aRbAR$ resultando $AaRbAR$.
A continuación se reemplaza simultáneamente la $a$ por $aRbAR$ y la $b$ por $LAaLB$ dando como resultado la secuencia $AaRbARRLAaLbAR$.
Finalmente después de la tercera iteración se obtiene la secuencia $AaRbARRLAaLbARRLAaRbARLLAaLbAR$.
Notar que después de cada iteración la secuencia resultante es una extensión de la anterior.
Esto significa que después de cada iteración la secuencia resultante se acerca más al camino del dragón real.

Cada una de las secuencias generadas en el proceso da origen a una secuencia del dragón que corresponde a la secuencia generada eliminando las ocurrencias de $a$ y $b$.
Por ejemplo, las secuencias $A$, $ARAR$, $ARARRLALAR$ y $ARARRLALARRLARARLLALAR$ son las secuencias del dragón originadas a partir de las primeras tres iteraciones.

Cada una de las secuencias del dragón corresponde a una serie de acciones que hay que hacer para recorrer el camino correspondiente.
Para determinar la posición en que queda Olon-sonkú después de realizar las acciones supondremos que siempre comienza en la posición $(0,0)$ mirando hacia el norte.
A continuación se muestra un ejemplo donde se ejecutan las acciones para la secuencia $ARARRLALARRLARARLLALAR$ junto a una figura de ilustración:
% \newpage
\\

\begin{minipage}{0.45\textwidth}
\begin{itemize}
	{\footnotesize \item Comenzar en $(0,0)$ mirando al norte
	\item $A$:  Avanzar, llega a $(0,1)$ mirando todavía hacia el norte.
	\item $RA$: Rotar a la derecha y avanzar, llega a $(1,1)$ y mirando hacia el este.
	\item $RRLA$: Rotar dos veces a la derecha, una vez a la izquierda y luego avanzar, llega a $(1,0)$ y mirando hacia sur.
	\item $LA$: Llega a $(2,0)$ mirando hacia el este.
	\item $RRLA$: Llega a $(2,-1)$ mirando hacia el sur.
	\item $RA$: Llega a $(1,-1)$ mirando hacia el oeste.
	\item $RLLA$: Llega a $(1,-2)$ mirando hacia el sur.
	\item $LAR$:  Termina en $(2,-2)$ mirando hacia el sur.}
\end{itemize}
\end{minipage}
~%
\begin{minipage}{0.5\textwidth}
\begin{center}
		\begin{tikzpicture}
	% \begin{scope}[scale = 0.6, shift={(-15,0)},rotate=0]
	% \draw[thick,red] (0,0) --(0,1);
	% \draw[fill = black] (0,0) circle (0.1);
	% \end{scope}
	% \begin{scope}[scale = 0.6, shift={(-12,0)},rotate=0]
	% \draw[thick,red] (0,0) --(0,1) --(1,1);
	% \draw[fill = black] (0,0) circle (0.1);
	% \end{scope}
	% \begin{scope}[scale = 0.6, shift={(-9,0)},rotate=0]
	% \draw[thick,red] (0,0) --(0,1) --(1,1) --(1,0);
	% \draw[fill = black] (0,0) circle (0.1);
	% \end{scope}
	% \begin{scope}[scale = 0.6, shift={(-6,0)},rotate=0]
	% \draw[thick,red] (0,0) --(0,1) --(1,1) --(1,0) -- (2,0);
	% \draw[fill = black] (0,0) circle (0.1);
	% \end{scope}
	% \begin{scope}[scale = 0.6, shift={(-3,0)},rotate=0]
	% \draw[thick,red] (0,0) --(0,1) --(1,1) --(1,0) -- (2,0) --(2,-1);
	% \draw[fill = black] (0,0) circle (0.1);
	% \end{scope}
	% \begin{scope}[scale = 0.6, shift={(0,0)},rotate=0]
	% \draw[thick,red] (0,0) --(0,1) --(1,1) --(1,0) -- (2,0) --(2,-1) -- (1,-1);
	% \draw[fill = black] (0,0) circle (0.1);
	% \end{scope}
	% \begin{scope}[scale = 0.6, shift={(3,0)},rotate=0]
	% \draw[thick,red] (0,0) --(0,1) --(1,1) --(1,0) -- (2,0) --(2,-1) -- (1,-1)--(1,-2);
	% \draw[fill = black] (0,0) circle (0.1);
	% \end{scope}
	% \begin{scope}[scale = 1, shift={(0,0)},rotate=0]
    \draw[step=1, lightgray, very thin] (2.5,2.5) grid (-2.5,-2.5);
    \foreach \i in {-2,-1,1,2}
       \draw (\i, -1pt) -- (\i, 1pt) node[anchor=north, scale=0.7]{$\i$};
    \foreach \i in {-2,-1,1,2}
       \draw (-1pt,\i) -- (1pt,\i) node[anchor=east, scale=0.7]{$\i$};
  \draw[thin] (0,-2.5) -- (0,2.5);
  \draw[thin] (-2.5,0) -- (2.5, 0);
	\draw[very thick,red] (0,0) --(0,1) --(1,1) --(1,0) -- (2,0) --(2,-1) -- (1,-1)--(1,-2) -- (2,-2);
	% \draw[fill = black] (0,0) circle (0.1);
	\end{scope}
	\end{tikzpicture}
\end{center}
\end{minipage}
\\

Diremos que un recorrido del dragón tiene largo $N$ si se ejecuta la acción avanzar $N$ veces.
Por ejemplo, el recorrido descrito anteriormente tiene largo $N = 8$.
Notar que para hacer un recorrido de largo $N$ hay que considerar una secuencia del dragón que tenga al menos $N$ acciones avanzar.
Por ejemplo si se quiere hacer un recorrido de largo $N=5$ hay que considerar la secuencia $ARARRLALARRLARARLLALAR$ y ejecutar
las primeras 5 acciones avanzar.
Esto dejaría a Olon-sonkú en la posición $(2,-1)$.

Supón que Bulnelman sabe que el planeta de Jorgesama se encuentra al final del recorrido del dragón de largo $N$.
?`Puedes ayudarnos a saber cual es la posición exacta del planeta del gran Jorgesama?


\begin{inputDescription}
La entrada consiste en una linea con un único entero positivo $N$.
Tu programa debe calcular las coordenadas del final del recorrido del dragón de largo $N$.
\end{inputDescription}

\begin{outputDescription}
Debes imprimir una única línea con dos enteros $x$ e $y$ separados por un espacio.
Estos enteros corresponden a las coordenadas del planeta del gran Jorgesama.
\end{outputDescription}

\begin{scoreDescription}
\score{10} Se probarán varios casos donde $1 \leq N \leq 8$.
\score{20} Se probarán varios casos donde $1 \leq N \leq 100$.
\score{40} Se probarán varios casos donde $1 \leq N \leq 10^5$.
\score{30} Se probarán varios casos donde $1 \leq N \leq 10^{15}$. 
\end{scoreDescription}

\begin{sampleDescription}
\sampleIO{sample1}
\sampleIO{sample2}
\sampleIO{sample3}
\sampleIO{sample4}
\sampleIO{sample5}
\sampleIO{sample6}
\end{sampleDescription}

\end{document}
