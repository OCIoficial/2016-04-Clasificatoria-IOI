\documentclass{oci}
\usepackage[utf8]{inputenc}
\usepackage{tikz}
\usepackage{subcaption}
\usepackage{lipsum}
\usepackage[spanish]{babel}

\title{Dominó}

\begin{document}
\begin{problemDescription}
% Un juego completo de fichas de dominó consiste en un conjunto de piezas rectangulares de $2\times1$, divididas en dos cuadrados, donde cada mitad tiene un número entre 0 y $n-1$, donde habitualmente $n$ es 7.
Un juego de fichas de dominó consiste en un conjunto de piezas rectangulares de $2\times1$, donde cada mitad contiene un número entre 0 y $n-1$. 
% En el set del dominó habitual $n$ es igual 7.
Llamaremos un $n$-dominó al juego de fichas donde el valor correspondiente es $n$.
Por ejemplo, el juego de dominó normal es un $7$-dominó y sus piezas tienen valores entre 0 y 6.
Además, en un $n$-dominó cada combinación de pares de números está presente exactamente una vez (1--3 y 3--1 son la misma pieza).
Por ejemplo, un \textbf{7-dominó} consiste en \textbf{28 piezas}.

Un $n$-dominó es tan versátil como una baraja de cartas, en cuanto a que ambos permiten jugar una gran variedad de juegos.
Uno de estos es el del cuadrado\footnote{Inspirado en \emph{Matemáticas Recreativas} de Y. I. Perelman}.
En el juego del cuadrado se te entrega un $n$-dominó y un valor $k$.
El objetivo del juego es formar un cuadrado usando todas las piezas del $n$-dominó, de forma que para cada lado la suma de todos los valores en él sea $k$.
% Este juego\footnote{Inspirado en \emph{Matemáticas Recreativas} de Y. I. Perelman} consiste en formar un cuadrado usando todas las piezas de un $n$-dominó,  donde el número de piezas verticales y horizontales es el mismo (fig. \ref{f:cuadrados}), tal que para cada lado, la suma de los valores en él sea $k$.
% En este juego está permitido poner juntos dos cuadrados de diferente valor (a diferencia del clásico juego de dominó).
A un cuadrado formado con un $n$-dominó de forma que los lados sumen $k$ lo llamaremos un cuadrado $(n,k)$.

Para formar un cuadrado válido la cantidad de pieza verticales y horizontales debe ser la misma.
A continuación se muestra una imagen de un cuadrado inválido y uno válido.
\begin{figure}[h!]
 \begin{subfigure}[b]{0.45\textwidth}
  \centering
  \input{domino1}
  \caption{Cuadrado inválido}
  \label{f:invalido}
 \end{subfigure}
 \begin{subfigure}[b]{0.45\textwidth}
  \centering
  \input{domino2}
  \caption{Cuadrado de lado 5}
  \label{f:valido}
 \end{subfigure}
 \caption{Un cuadrado válido y uno inválido.}
 \label{f:cuadrados}
\end{figure}
Notar que no para cualquier valor de $n$ es posible formar un cuadrado con un $n$-dominó.
Por ejemplo, el $2$-dominó está formado por 3 piezas (0--0, 0--1 y 1--1) y no es posible armar un cuadrado con ellas.
Por otro lado, para un $n$-dominó donde sí es posible formar un cuadrado no necesariamente es posible armar un cuadrado $(n,k)$ para cualquier $k$.
Por ejemplo, para el $7$-dominó la suma de los lados siempre será menor que 90, y por lo tanto no es posible formar un cuadrado $(7,90)$.

\begin{figure}[ht]
 \centering
 \input{domino3}
 \caption{Un cuadrado $(7,45)$. Notar que cada lado suma 45.}
 \label{f:cuadrado7}
\end{figure}

Tu objetivo es, entonces, determinar una configuración de piezas para completar el cuadrado $(n,k)$.
Para esto, tendrás que implementar algunas funciones que simplificarán enormemente la resolución del problema.


\end{problemDescription}

\subsection*{Subtarea 1}
La primera subtarea consiste en implementar la función \verb+cuadrado+ que determina para un $n$ si es posible formar un cuadrado con un $n$-dominó.
En esta subtarea no importa la suma de los valores de cada lado, sólo se pide determinar si es posible formar un cuadrado válido usando todas las piezas del $n$-dominó.

\begin{itemize}
 \item \verb+bool cuadrado(int n)+
 \begin{itemize}
  \item \verb+n+: indica el tamaño del juego de $n$-dominó.
  \item \emph{return}: un booleano con valor \verb+true+ si se puede formar un cuadrado, y \verb+false+ si no.
 \end{itemize}
\end{itemize}

\subsection*{Subtarea 2}
La subtarea 2 consiste en implementar la función \verb+validar+ que dado un cuadrado debe validar que este cumple con la restricción de que todos los lados sumen lo mismo.
Esto también implica verificar que las fichas correspondan a las del juego completo de $n$-dominó.
Sin embargo, puedes asumir que el juego completo de $n$-dominó sí permite formar un cuadrado.

\begin{itemize}
 \item \verb+bool validar(int n, int d[])+
 \begin{itemize}
  \item \verb+n+: indica el tamaño del juego de $n$-dominó.
  \item \verb+d+: arreglo de $2f$ enteros, donde se guardan ordenadas las fichas que forman el cuadrado.
  \item \emph{return}: un booleano con valor \verb+true+ si los cuatro lados suman lo mismo, y \verb+false+ si no.
 \end{itemize}
\end{itemize}

\subsection*{Subtarea 3, 4 y 5}
Para las subtareas 3, 4 y 5, debes implementar la función \verb+construir+ que para $n$ y $k$ construye, si es posible, un cuadrado $(n,k)$, y retorna \verb+true+ si es posible o \verb+false+ si no.
\begin{itemize}
 \item \verb+bool construir(int n, int k, int d[])+
 \begin{itemize}
  \item \verb+n, k+: valores para $n,k$, que indican el cuadrado $(n,k)$ que se quiere construir.
  \item \verb+d+: arreglo de $2f$ enteros, donde debes guardar los valores de las fichas de un cuadrado $(n,k)$, partiendo desde alguna esquina. Observa que $f$ es el número de piezas de dominó.
  \item \emph{return}: un booleano con valor \verb+true+ si se puede formar un cuadrado $(n,k)$, y \verb+false+ si no.
 \end{itemize}
\end{itemize}

\paragraph{Convención sobre el formato del arreglo \emph{d}}
Para las funciones \verb+validar+ y \verb+construir+, respectivamente al revisar y llenar el arreglo \verb+d+, considera siempre que la posición 0 es una esquina, y que el resto se enumera en un sentido tal que los pares de valores de una misma ficha siempre quedan en posiciones adyacentes en el arreglo. El orden es fundamental para que los códigos puedan ser evaluados correctamente.

Por ejemplo, la figura \ref{f:cuadrado7} puede ser guardada en el arreglo de la siguiente manera (partiendo de la esquina superior izquierda):

\[ 6, 2, 0, 4, 5, 1, 4, 6, 3, 1, 1, 0, 4, 5, 3, 4, 0, 0, \dots, 1, 4, 5, 5, 2, 3, 3, 0, 0, 6, 0, 2, 6, 5, 2, 2, 5, 3 \]

\begin{scoreDescription}
  \score{25} Implementar la función cuadrado, para $n \le 1000$.
  \score{20} Implementar la función validar, para $n \le 1000$.
  \score{10} Implementar la función construir, con $n \le 7$.
  \score{20} Implementar la función construir, para $n \le 16$.
  \score{25} Implementar la función construir, para $n \le 1000$.
\end{scoreDescription}

\end{document}